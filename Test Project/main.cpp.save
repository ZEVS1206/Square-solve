#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <ctype.h>
#include <TXLib.h>


float Dis(float *b, float *c, float *a);/*Дискриминант*/
void solve(float *a, float *b, float *c);/*Поиск самих решений*/
int cnt_i = 0;/*Количество мнимых единиц*/

int main(){
    float a, b, c;
    printf("Введите коэффициент a:");
    scanf("%f", &a);
    printf("\n");
    printf("Введите коэффициент b:");
    scanf("%f", &b);
    printf("\n");
    printf("Введите коэффициент c:");
    scanf("%f", &c);
    printf("\n");
    solve(&a, &b, &c);
    return 0;
}

float Dis(float *b, float *c, float *a){
    float D2 = (*b) * (*b) - 4 * (*a) * (*c);/*D**2*/
    if (D2 >= 0){/*Есть действительные корни*/
        cnt_i = 0;
        return sqrt(D2);
    } else {/*Есть комплексные корни*/
        D2 = -D2;
        cnt_i = 1;
        return sqrt(D2);
    }
}

void solve(float *a, float *b, float *c){
    float D = Dis(&b, &c, &a);/*Дискриминант*/
    if (cnt_i > 0){/*Комплексные корни*/
        printf("Уравнение имеет два комплексных решения:\n");
        printf("x1 = (%.8f + %.8fi) / %.8f\n", -(*b), *D, 2 * (*a));
        printf("x2 = (%.8f - %.8fi) / %.8f\n", -(*b), *D, 2 * (*a));
    } else {/*Действительные корни*/
        if (*D == 0){
            printf("Уравнение имеет единственное действительное решение:\n");
            float x = (-(*b)) / (2 * (*a));
            printf("x = %.8f\n", x);
        } else {
            printf("Уравнение имеет два действительных решения:\n");
            float x1, x2;
            x1 = (-(*b) + *D) / (2 * (*a));
            x2 = (-(*b) - *D) / (2 * (*a));
            printf("x1 = %.8f\nx2 = %.8f\n", x1, x2);
        }
    }
}


